<!DOCTYPE html>

<html class="scroll-smooth" lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-09FW4XY50E"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-09FW4XY50E');
</script>

<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="Lesson 4: Evangelical Revival - History of Modern Missions" name="description"/>
<title>Lesson 4: Evangelical Revival | Modern Missions | Bible Teaching Program</title><meta content="website" property="og:type"/><meta content="https://bibleteachingprogram.org/courses/history/modern-missions/evangelical-revival.html" property="og:url"/><meta content="Lesson 4: Evangelical Revival | Modern Missions | Bible Teaching Program" property="og:title"/><meta content="Lesson 4: Evangelical Revival - History of Modern Missions" property="og:description"/><meta content="https://bibleteachingprogram.org/images/hero-banner.png" property="og:image"/><meta content="summary_large_image" name="twitter:card"/><meta content="Lesson 4: Evangelical Revival | Modern Missions | Bible Teaching Program" name="twitter:title"/><meta content="Lesson 4: Evangelical Revival - History of Modern Missions" name="twitter:description"/><meta content="https://bibleteachingprogram.org/images/hero-banner.png" name="twitter:image"/>
<link href="/favicon.svg" rel="icon" type="image/svg+xml"/>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=Playfair+Display:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<!-- Tailwind with Brand Colors -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ancient-ink': '#1C1D37',
                        'heritage-gold': '#CBA378',
                        'living-sage': '#7F9A83',
                        'parchment': '#F9F7F2',
                    },
                    fontFamily: {
                        'serif': ['Playfair Display', 'Georgia', 'serif'],
                    }
                }
            }
        }
    </script>
<link href="/css/brand.css" rel="stylesheet"/>
<link href="/css/shared-styles.css" rel="stylesheet"/>
</head>
<body class="bg-parchment">
<!-- Navigation (loaded from component) -->
<div id="nav-placeholder"></div>
<!-- Breadcrumbs -->
<div class="bg-white border-b border-gray-100">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
<nav class="flex items-center gap-2 text-sm flex-wrap">
<a class="text-gray-600 hover:text-heritage-gold transition" href="/">Home</a>
<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<a class="text-gray-600 hover:text-heritage-gold transition" href="/courses/index.html">Courses</a>
<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<a class="text-gray-600 hover:text-heritage-gold transition" href="/courses/history/index.html">History</a>
<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<a class="text-gray-600 hover:text-heritage-gold transition" href="/courses/history/modern-missions/index.html">Modern Missions</a>
<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span class="text-gray-900 font-medium">Lesson 4</span>
</nav>
</div>
</div>
<!-- Lesson Header -->
<section class="bg-living-sage text-white py-8">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex items-center gap-4">
<div class="w-14 h-14 bg-white bg-opacity-20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl font-bold">
                    4
                </div>
<div>
<div class="text-sm text-white text-opacity-80 mb-1">History of Modern Missions - Lesson 4</div>
<h1 class="text-2xl md:text-3xl font-bold">Evangelical Revival</h1>
</div>
</div>
</div>
</section>
<!-- Main Content -->
<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
<div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
<!-- Main Column -->
<div class="lg:col-span-3 space-y-6">
<!-- Lesson Content with Tabs -->
<div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
<!-- Content Tabs -->
<div class="flex border-b border-gray-200 bg-parchment">
<button class="flex-1 px-4 py-3 font-medium text-heritage-gold border-b-2 border-heritage-gold transition text-sm sm:text-base" id="contentTab" onclick="showTab('content')">
                            üìñ Lesson
                        </button>
<button class="flex-1 px-4 py-3 font-medium text-gray-500 hover:text-heritage-gold border-b-2 border-transparent hover:border-heritage-gold transition text-sm sm:text-base" id="notesTab" onclick="showTab('notes')">
                            üìÑ Notes
                        </button>
<button class="flex-1 px-4 py-3 font-medium text-gray-500 hover:text-heritage-gold border-b-2 border-transparent hover:border-heritage-gold transition text-sm sm:text-base" id="slidesTab" onclick="showTab('slides')">
                            üìä Presentation
                        </button>
</div>
<!-- Content Tab -->
<div class="p-8" id="contentSection">
<article class="content-area">
<div class="bg-parchment rounded-xl p-6 mb-6 border-2 border-heritage-gold/30">
<div class="flex items-start gap-4">
<div class="w-12 h-12 bg-ancient-ink text-white rounded-lg flex items-center justify-center flex-shrink-0 text-xl">
                                        4
                                    </div>
<div class="flex-1">
<div class="text-xs text-heritage-gold font-medium mb-1">Lesson Overview</div>
<h2 class="text-xl font-bold text-ancient-ink mb-2">The Evangelical Revival</h2>
<p class="text-gray-700">Study the great evangelical awakening in Britain and America that transformed society and launched the modern missionary movement.</p>
</div>
</div>
</div>
<h3 class="text-lg font-bold text-ancient-ink mb-3">Key Topics</h3>
<ul class="space-y-2 mb-6">
<li class="flex items-start gap-2"><span class="text-heritage-gold">‚Ä¢</span> <span>John and Charles Wesley</span></li>
<li class="flex items-start gap-2"><span class="text-heritage-gold">‚Ä¢</span> <span>George Whitefield's preaching ministry</span></li>
<li class="flex items-start gap-2"><span class="text-heritage-gold">‚Ä¢</span> <span>The Great Awakening in America</span></li>
<li class="flex items-start gap-2"><span class="text-heritage-gold">‚Ä¢</span> <span>Social reforms inspired by revival</span></li>
<li class="flex items-start gap-2"><span class="text-heritage-gold">‚Ä¢</span> <span>Birth of the missionary societies</span></li>
</ul>
<div class="bg-heritage-gold/10 border border-heritage-gold/30 rounded-lg p-4">
<h4 class="font-semibold text-ancient-ink mb-2">Lasting Impact</h4>
<p class="text-sm text-gray-700 mb-0">The evangelical revival created the spiritual momentum and organizational structures that would fuel Protestant missions for the next two centuries.</p>
</div>
</article>
</div>
<!-- Notes Tab -->
<div class="hidden" id="notesSection">
<!-- Notes Header -->
<div class="bg-ancient-ink p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
<div class="flex items-center gap-3">
<div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">üìÑ</div>
<div>
<div class="font-semibold text-white">Lesson 4 Study Notes</div>
<div class="text-xs text-white text-opacity-80">Complete lesson notes</div>
</div>
</div>
<a class="px-3 py-2 bg-heritage-gold text-ancient-ink text-sm rounded-lg font-medium hover:bg-heritage-gold/90 transition" href="/courses/history/modern-missions/missionsweb/ms4.html" target="_blank">Open in New Tab</a>
</div>
<!-- Notes iframe -->
<div class="bg-gray-50" style="height: calc(100vh - 320px); min-height: 500px;">
<iframe class="w-full h-full border-0" id="notesFrame" src="" title="Lesson Notes"></iframe>
</div>
</div>
<!-- Slides Tab -->
<div class="hidden" id="slidesSection">
<!-- PDF Viewer Header -->
<div class="bg-ancient-ink p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
<div class="flex items-center gap-3">
<div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">üìä</div>
<div>
<div class="font-semibold text-white">Lesson 4 Presentation</div>
<div class="text-xs text-white text-opacity-80" id="slidesPageInfo">Loading...</div>
</div>
</div>
<div class="flex items-center gap-2">
<a class="px-3 py-2 bg-white bg-opacity-10 hover:bg-opacity-20 text-white text-sm rounded-lg transition" href="/courses/history/modern-missions/pdfs/4evangelical.pdf" target="_blank">üîç Fullscreen</a>
<a class="px-3 py-2 bg-heritage-gold text-ancient-ink text-sm rounded-lg font-medium hover:bg-heritage-gold/90 transition" download="" href="/courses/history/modern-missions/pdfs/4evangelical.pdf">‚¨áÔ∏è Download</a>
</div>
</div>
<!-- PDF Controls -->
<div class="bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-wrap gap-3">
<div class="flex items-center gap-2">
<button class="px-3 py-1.5 bg-parchment hover:bg-gray-200 text-gray-700 rounded-lg transition" id="slidesPrevPage">
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
</button>
<span class="text-sm text-gray-600">Page <span class="font-semibold" id="slidesCurrentPage">1</span> of <span class="font-semibold" id="slidesTotalPages">-</span></span>
<button class="px-3 py-1.5 bg-parchment hover:bg-gray-200 text-gray-700 rounded-lg transition" id="slidesNextPage">
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>
</button>
</div>
<div class="flex items-center gap-2">
<button class="px-3 py-1.5 bg-parchment hover:bg-gray-200 text-gray-700 rounded-lg transition" id="slidesZoomOut">‚àí</button>
<span class="text-sm text-gray-600"><span class="font-semibold" id="slidesZoomLevel">100</span>%</span>
<button class="px-3 py-1.5 bg-parchment hover:bg-gray-200 text-gray-700 rounded-lg transition" id="slidesZoomIn">+</button>
<button class="px-3 py-1.5 bg-heritage-gold/20 text-heritage-gold text-xs font-medium rounded-lg transition" id="slidesFitWidth">Fit</button>
</div>
</div>
<!-- PDF Canvas -->
<div class="bg-gray-100" style="height: calc(100vh - 320px); min-height: 400px; overflow: auto;">
<div class="py-6 flex justify-center" id="slidesCanvasContainer">
<canvas class="shadow-xl bg-white" id="slidesCanvas"></canvas>
</div>
</div>
</div>
</div>
<!-- Lesson Navigation -->
<div class="bg-parchment rounded-xl p-6 border-2 border-heritage-gold/30">
<div class="flex items-center justify-between flex-wrap gap-4">
<a class="flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-parchment hover:border-gray-400 transition" href="/courses/history/modern-missions/herrnhut.html">
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span>Previous Lesson</span>
</a>
<a class="flex items-center gap-2 px-6 py-3 bg-ancient-ink text-white rounded-lg font-medium hover:bg-ancient-ink/90 transition" href="/courses/history/modern-missions/index.html">
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M4 6h16M4 10h16M4 14h16M4 18h16" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
<span>All Lessons</span>
</a>
<a class="flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-parchment hover:border-gray-400 transition" href="/courses/history/modern-missions/slave-trade.html">
<span>Next Lesson</span>
<svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</a>
</div>
</div>
</div>
<!-- Sidebar -->
<div class="space-y-6">
<!-- Course Info -->
<div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200">
<div class="flex items-center gap-3 mb-4">
<div class="w-10 h-10 bg-parchment rounded-lg flex items-center justify-center text-xl">
                            üåç
                        </div>
<div>
<h3 class="font-bold text-gray-900">Course</h3>
<p class="text-xs text-gray-600">History of Modern Missions</p>
</div>
</div>
<a class="block w-full px-4 py-2 bg-ancient-ink text-white text-center rounded-lg font-medium hover:bg-ancient-ink/90 transition text-sm" href="/courses/history/modern-missions/index.html">
                        View Course Overview
                    </a>
</div>
<!-- Lesson Navigation -->
<div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
<div class="px-4 py-3 bg-parchment border-b border-heritage-gold/30">
<div class="flex items-center justify-between">
<h3 class="font-bold text-gray-900 text-sm">Course Lessons</h3>
<span class="text-xs font-medium text-heritage-gold bg-white px-2 py-1 rounded-full">9 Lessons</span>
</div>
</div>
<div class="p-3 space-y-1">
<a class="flex items-center gap-3 py-2.5 px-3 hover:bg-parchment rounded-lg transition group" href="/courses/history/modern-missions/introduction.html">
<div class="w-6 h-6 bg-parchment text-gray-600 group-hover:bg-parchment group-hover:text-heritage-gold rounded-full flex items-center justify-center font-semibold text-xs flex-shrink-0 transition">
                                1
                            </div>
<div class="flex-1 min-w-0">
<div class="font-medium text-sm text-gray-700 group-hover:text-heritage-gold truncate transition">Introduction - European Expansion</div>
</div>
</a>
<a class="flex items-center gap-3 py-2.5 px-3 hover:bg-parchment rounded-lg transition group" href="/courses/history/modern-missions/pietism.html">
<div class="w-6 h-6 bg-parchment text-gray-600 group-hover:bg-parchment group-hover:text-heritage-gold rounded-full flex items-center justify-center font-semibold text-xs flex-shrink-0 transition">
                                2
                            </div>
<div class="flex-1 min-w-0">
<div class="font-medium text-sm text-gray-700 group-hover:text-heritage-gold truncate transition">Pietism</div>
</div>
</a>
<a class="flex items-center gap-3 py-2.5 px-3 hover:bg-parchment rounded-lg transition group" href="/courses/history/modern-missions/herrnhut.html">
<div class="w-6 h-6 bg-parchment text-gray-600 group-hover:bg-parchment group-hover:text-heritage-gold rounded-full flex items-center justify-center font-semibold text-xs flex-shrink-0 transition">
                                3
                            </div>
<div class="flex-1 min-w-0">
<div class="font-medium text-sm text-gray-700 group-hover:text-heritage-gold truncate transition">Herrnhut</div>
</div>
</a>
<div class="flex items-center gap-3 py-2.5 px-3 bg-ancient-ink text-white rounded-lg">
<div class="w-6 h-6 bg-white text-heritage-gold rounded-full flex items-center justify-center font-bold text-xs flex-shrink-0">
                                4
                            </div>
<div class="flex-1 min-w-0">
<div class="font-medium text-sm truncate">Evangelical Revival</div>
<div class="text-xs text-white text-opacity-80">Current Lesson</div>
</div>
</div>
<a class="flex items-center gap-3 py-2.5 px-3 hover:bg-parchment rounded-lg transition group" href="/courses/history/modern-missions/slave-trade.html">
<div class="w-6 h-6 bg-parchment text-gray-600 group-hover:bg-parchment group-hover:text-heritage-gold rounded-full flex items-center justify-center font-semibold text-xs flex-shrink-0 transition">
                                5
                            </div>
<div class="flex-1 min-w-0">
<div class="font-medium text-sm text-gray-700 group-hover:text-heritage-gold truncate transition">Slave Trade</div>
</div>
</a>
<a class="flex items-center gap-3 py-2.5 px-3 hover:bg-parchment rounded-lg transition group" href="/courses/history/modern-missions/william-carey.html">
<div class="w-6 h-6 bg-parchment text-gray-600 group-hover:bg-parchment group-hover:text-heritage-gold rounded-full flex items-center justify-center font-semibold text-xs flex-shrink-0 transition">
                                6
                            </div>
<div class="flex-1 min-w-0">
<div class="font-medium text-sm text-gray-700 group-hover:text-heritage-gold truncate transition">William Carey</div>
</div>
</a>
<a class="flex items-center gap-3 py-2.5 px-3 hover:bg-parchment rounded-lg transition group" href="/courses/history/modern-missions/china.html">
<div class="w-6 h-6 bg-parchment text-gray-600 group-hover:bg-parchment group-hover:text-heritage-gold rounded-full flex items-center justify-center font-semibold text-xs flex-shrink-0 transition">
                                7
                            </div>
<div class="flex-1 min-w-0">
<div class="font-medium text-sm text-gray-700 group-hover:text-heritage-gold truncate transition">China Missions</div>
</div>
</a>
<a class="flex items-center gap-3 py-2.5 px-3 hover:bg-parchment rounded-lg transition group" href="/courses/history/modern-missions/africa.html">
<div class="w-6 h-6 bg-parchment text-gray-600 group-hover:bg-parchment group-hover:text-heritage-gold rounded-full flex items-center justify-center font-semibold text-xs flex-shrink-0 transition">
                                8
                            </div>
<div class="flex-1 min-w-0">
<div class="font-medium text-sm text-gray-700 group-hover:text-heritage-gold truncate transition">African Missions</div>
</div>
</a>
<a class="flex items-center gap-3 py-2.5 px-3 hover:bg-parchment rounded-lg transition group" href="/courses/history/modern-missions/uk-missions.html">
<div class="w-6 h-6 bg-parchment text-gray-600 group-hover:bg-parchment group-hover:text-heritage-gold rounded-full flex items-center justify-center font-semibold text-xs flex-shrink-0 transition">
                                9
                            </div>
<div class="flex-1 min-w-0">
<div class="font-medium text-sm text-gray-700 group-hover:text-heritage-gold truncate transition">UK Missions</div>
</div>
</a>
</div>
</div>
<!-- Quick Links -->
<div class="bg-parchment rounded-xl p-6 border border-heritage-gold/30">
<h3 class="font-bold text-lg text-gray-900 mb-3">More Courses</h3>
<p class="text-sm text-gray-600 mb-4">Explore our other biblical courses</p>
<a class="inline-flex items-center gap-2 px-4 py-2 bg-ancient-ink text-white rounded-lg font-medium hover:bg-ancient-ink/90 transition text-sm" href="/courses/index.html">
<span>All Courses</span>
<svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24">
<path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</a>
</div>
</div>
</div>
</main>
<!-- Footer (loaded from component) -->
<div id="footer-placeholder"></div>
<script src="/js/components.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        // Tab state
        let currentTab = 'content';
        let notesLoaded = false;

        // PDF viewer state
        const viewer = {
            doc: null,
            page: 1,
            scale: 1.5,
            url: '/courses/history/modern-missions/pdfs/4evangelical.pdf'
        };

        function showTab(tab) {
            currentTab = tab;
            // Hide all sections
            document.getElementById('contentSection').classList.add('hidden');
            document.getElementById('notesSection').classList.add('hidden');
            document.getElementById('slidesSection').classList.add('hidden');

            // Reset all tab styles
            ['contentTab', 'notesTab', 'slidesTab'].forEach(id => {
                const el = document.getElementById(id);
                el.classList.remove('text-heritage-gold', 'border-heritage-gold');
                el.classList.add('text-gray-500', 'border-transparent');
            });

            // Show selected section and style tab
            if (tab === 'content') {
                document.getElementById('contentSection').classList.remove('hidden');
                document.getElementById('contentTab').classList.add('text-heritage-gold', 'border-heritage-gold');
                document.getElementById('contentTab').classList.remove('text-gray-500', 'border-transparent');
            } else if (tab === 'notes') {
                document.getElementById('notesSection').classList.remove('hidden');
                document.getElementById('notesTab').classList.add('text-heritage-gold', 'border-heritage-gold');
                document.getElementById('notesTab').classList.remove('text-gray-500', 'border-transparent');
                // Lazy load notes iframe
                if (!notesLoaded) {
                    document.getElementById('notesFrame').src = '/courses/history/modern-missions/missionsweb/ms4.html';
                    notesLoaded = true;
                }
            } else if (tab === 'slides') {
                document.getElementById('slidesSection').classList.remove('hidden');
                document.getElementById('slidesTab').classList.add('text-heritage-gold', 'border-heritage-gold');
                document.getElementById('slidesTab').classList.remove('text-gray-500', 'border-transparent');
                if (!viewer.doc) loadPdf();
            }
        }

        function loadPdf() {
            pdfjsLib.getDocument(viewer.url).promise.then(doc => {
                viewer.doc = doc;
                document.getElementById('slidesTotalPages').textContent = doc.numPages;
                document.getElementById('slidesPageInfo').textContent = 'Page 1 of ' + doc.numPages;
                renderPage(1);
            }).catch(err => {
                document.getElementById('slidesPageInfo').textContent = 'Error loading PDF';
            });
        }

        function renderPage(num) {
            const canvas = document.getElementById('slidesCanvas');
            const ctx = canvas.getContext('2d');
            viewer.doc.getPage(num).then(page => {
                const viewport = page.getViewport({ scale: viewer.scale });
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                page.render({ canvasContext: ctx, viewport: viewport });
            });
            viewer.page = num;
            document.getElementById('slidesCurrentPage').textContent = num;
            document.getElementById('slidesPageInfo').textContent = 'Page ' + num + ' of ' + viewer.doc.numPages;
        }

        function navigate(delta) {
            const newPage = viewer.page + delta;
            if (newPage >= 1 && newPage <= viewer.doc.numPages) renderPage(newPage);
        }

        function zoom(delta) {
            viewer.scale = Math.max(0.5, Math.min(3, viewer.scale + delta));
            document.getElementById('slidesZoomLevel').textContent = Math.round(viewer.scale * 100 / 1.5);
            renderPage(viewer.page);
        }

        function fitWidth() {
            const container = document.getElementById('slidesCanvasContainer');
            viewer.doc.getPage(viewer.page).then(page => {
                const viewport = page.getViewport({ scale: 1 });
                viewer.scale = (container.clientWidth - 48) / viewport.width;
                document.getElementById('slidesZoomLevel').textContent = Math.round(viewer.scale * 100 / 1.5);
                renderPage(viewer.page);
            });
        }

        // Event listeners
        document.getElementById('slidesPrevPage').addEventListener('click', () => navigate(-1));
        document.getElementById('slidesNextPage').addEventListener('click', () => navigate(1));
        document.getElementById('slidesZoomIn').addEventListener('click', () => zoom(0.25));
        document.getElementById('slidesZoomOut').addEventListener('click', () => zoom(-0.25));
        document.getElementById('slidesFitWidth').addEventListener('click', fitWidth);

        // Keyboard navigation
        document.addEventListener('keydown', e => {
            if (currentTab !== 'slides') return;
            if (e.key === 'ArrowLeft') navigate(-1);
            if (e.key === 'ArrowRight') navigate(1);
        });

        // Check URL parameter for initial tab
        const urlParams = new URLSearchParams(window.location.search);
        const tabParam = urlParams.get('tab');
        if (tabParam === 'notes' || tabParam === 'slides') {
            showTab(tabParam);
        }
    </script>
</body>
</html>